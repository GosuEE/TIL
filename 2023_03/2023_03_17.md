# golang 문법 #3

- [클로저](#클로저)
- [컬렉션](#컬렉션)
  - [배열](#배열)
  - [Slice](#Slice)

## 클로저

go에서 함수는 클로저로 사용될 수 있다. 클로저는 함수 바깥에 있는 변수를 참조하는 함수값을 말한다. 이 때 함수는 바깥의 변수를 마치 함수 안으로 끌어들인 듯이 그 변수를 읽거나 쓸 수 있다.

```go
package main
 
func nextValue() func() int {
    i := 0
    return func() int {
        i++
        return i
    }
}
 
func main() {
    next := nextValue()
 
    println(next())  // 1
    println(next())  // 2
    println(next())  // 3
 
    anotherNext := nextValue()
    println(anotherNext()) // 1 다시 시작
    println(anotherNext()) // 2
}
```

위의 예제에서 익명함수가 밖의 변수 i를 참조하고 있다. 익명함수 밖의 i는 상태를 계속 유지하기 때문에 차례대로 1, 2, 3이 출력된다.

그리고 anotherNext로 새롭게 초기화하면 변수 i는 초기값 0을 갖기 때문에 다시 1부터 카운팅된다.

## 컬렉션

### 배열

go에서의 배열의 크기는 Type을 구성하는 한 요소이다. 즉 [3]int는 [5]int와 다른 타입이다!

배열의 선언은 var 변수명 [배열크기]데이터타입과 같이 하는데, 배열 크기를 데이터 타입 앞에 쓰는것이 조금 다르다.

```go
func main() {
    var a [3]int  //정수형 3개 요소를 갖는 배열 a 선언
    a[0] = 1
    a[1] = 2
    a[2] = 3
    println(a[1]) // 2 출력
}
```

<b>배열의 초기화</b>

배열을 정의할 때 초기값을 설정할 수도 있다. 초기값은 [배열크기]데이터타입 뒤에 중괄호를 치고 순서대로 적으면 된다. 즉 위 코드의 배열 초기화를 다음과 같이 할 수 있다.

```go
var a1 = [3]int{1, 2, 3}
var a3 = [...]int{1, 2, 3}
```

배열크기에 ...을 입력하면 크기가 자동으로 초기화된다.

<b>다차원 배열</b>

go는 다차원 배열을 지원한다. 배열크기 부분을 여러개로 만들면 다차원 배열이 선언된다.

```go
var array = [1][2][3]int
array[0][0][0] = 1
```

<b>다차원 배열의 초기화</b>

일차원 배열의 초기화와 비슷하다. 다만 다차원이므로 배열 초기값 안에 다시 배열을 넣는 형태를 띄게 된다.

```go
func main() {
    var a = [2][3]int{
        {1, 2, 3},
        {4, 5, 6},  //끝에 콤마 추가
    }
    println(a[1][2])
}
```

### Slice



























