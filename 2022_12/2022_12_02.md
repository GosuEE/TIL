# styled-components, redux

## styled-components

원래의 웹 개발 패러다임은 html, js, css를 모두 분리하여 코딩하는 것이었다. 하지만 여러 모던 자바스크립트 라이브러리가 인기를 끌고, 재활용이 가능한 컴포넌트 기반 개발 방법이 주류가 되면서 css,js,html을 한 파일에 때려박는 방식이 유행을 하고있다.

리액트는 jsx문법을 이용하여 js가 html을 포함하는 형태로 둘을 한 파일로 합쳤고, css역시 js파일에 담기 위해 CSS in JS라는 개념이 등장했다.

### 패키지 설치

```
yarn add styled-components
```

설치 후 `package.json`에 `styled-components`가 추가된 것을 볼 수 있다.

```
"dependencies": {
    "@testing-library/jest-dom": "^5.16.5",
    "@testing-library/react": "^13.4.0",
    "@testing-library/user-event": "^13.5.0",
    "bootstrap": "^5.2.3",
    "react": "^18.2.0",
    "react-bootstrap": "^2.6.0",
    "react-dom": "^18.2.0",
    "react-router-dom": "^6.4.4",
    "react-scripts": "5.0.1",
    "styled-component": "^2.8.0",
    "styled-components": "^5.3.6",
    "web-vitals": "^2.1.4"
  },
```

### 기본 문법

```javascript
import styled from "styled-components"

const StyledButton = styled.button`
	// CSS 문법 작성
`
```
HTML 엘리먼트를 스타일링 할 때는 모든 알려진 HTML 태그에 대해서 이미 정의되어 있기 때문에 해당 태그명의 속성에 접근하면 된다.

```javascript
import Button from 'react-bootstrap/Button';
import styled from "styled-components"

const StyledButton = styled(Button)`
	// CSS 문법 작성
`
```
만약 이미 만들어진 컴포넌트나 부트스트랩등을 스타일링 하고 싶으면 해당 컴포넌트를 import하고 인자로 넘겨주면 된다.

## redux

redux는 react의 상태 관리 라이브러리이다. 리덕스를 사용하면 컴포넌트의 상태 업데이트 관련 로직을 다른 파일로 분리시켜서 효율적으로 관리할 수 있다.

redux를 사용하지 않으면 말단 컴포넌트의 상태 변화가 최상위 컴포넌트까지 올라가서 전체 페이지를 리렌더링 시키는 경우가 발생한다. 이는 불필요한 리렌더링을 불러오므로 비효율적이다.

필요한 컴포넌트까지 props를 계속 내려주는 리액트의 방식은 중간 컴포넌트에서 사용되지 않고, 오로지 하위컴포넌트로 전달하기위해 존재하는 props들이 생겨나면서 데이터 흐름을 비효율적으로 만든다. 또한 상위 컴포넌트에서 props 이름을 변경할 경우 해당 props가 거쳐간 모든 컴포넌트에서 이름을 수정해주어야 하기 때문에 코드 관리 측면에서도 좋지 않다.

redux는 이를 옵저버 패턴 (발행/구독 패턴이라고도 한다)과 flux패턴을 사용함으로써 해결했다.

> <b>flux 구조</b>
> 
> ![01](./2022_12_02_img/01.png)
> 
> Flux 패턴은 `action`이 발생하면 `dispatcher`에 의해 `store`에 변경된 사항이 저장되고, 그 저장된 사항에 의해 `view`가 변경되는 단방향 패턴을 보이고 있다.
> 여기서 `dispatcher`란 어플리케이션에서 발생한 `action`들을 정리해주는 역할을 하며 `store`란 어플리케이션의 데이터들이 저장되는 장소이다.
> 
> <b>redux의 구조<b>
> 
> ![02](./2022_12_02_img/02.png)
> 
> <b>redux를 사용하면...</b>
> 
> ![03](./2022_12_02_img/03.png)
> 
> 1. 리덕스를 사용하면 하나의 `store`를 통해 모든 `state`와 `상태 관리 로직`을 저장, 유지할 수 있게 되며 원하는 Component로만 data를 전달할 수 있다.
> 2. 리덕스를 사용하면 컴포넌트들의 상태 관련 로직들을 다른 파일들로 분리시켜서 더욱 효율적으로 관리 할 수 있고, 컴포넌트끼리 상태를 공유하게 될 때 여러 컴포넌트를 거치지 않고도 손쉽게 상태 값을 전달할 수 있다.
> 3. 리덕스는 한 방향으로만 동작하기 때문에 데이터의 흐름을 예측하기 쉽다.
> 4. 리덕스의 미들웨어라는 기능을 통하면 비동기 작업, 로깅 등의 확장적인 작업들을 더욱 쉽게 할 수도 있다.
> 5. 리덕스는 시간여행형 디버거와 결합된 실시간 코드 수정과 같은 훌륭한 개발자 경험도 제공한다.
















